
ðŸŽ¯ LLM-as-a-Judge Evaluation System
Following EvidentlyAI Methodology

Running evaluation for all scenarios...
(Use: python test_llm_evaluation.py <scenario_name> for single scenario)
Available scenarios: budget_conscious, health_focused, new_user

Run all scenarios? (y/n): 
============================================================
TESTING SCENARIO: BUDGET CONSCIOUS
============================================================

Getting recommendations from all 3 systems...
  Budget-Saving: 0 suggestions
  Personalized CF: 0 suggestions
  Hybrid AI: 0 suggestions

============================================================
LLM-as-a-Judge Evaluation
============================================================

[1/3] Running pairwise comparisons...
  - Budget-Saving vs Personalized CF...
  - Budget-Saving vs Hybrid AI...
  - Personalized CF vs Hybrid AI...

[2/3] Running criteria-based evaluations...
  - Evaluating Budget-Saving system...
  - Evaluating Personalized CF system...
  - Evaluating Hybrid AI system...

[3/3] Generating summary...

âœ“ Evaluation complete!

============================================================
EVALUATION REPORT
============================================================

USER PROFILE:
  Type: Budget-conscious family shopper
  Budget: $50.0
  Cart Total: $102.98 ($52.980000000000004 over)
  Items: 2

EVALUATION STATUS: COMPLETE

OVERALL WINNER: Budget Saving
  Win counts: {'budget_saving': 2, 'personalized_cf': 1, 'hybrid_ai': 0}

BEST FOR SPECIFIC NEEDS:
  Savings: N/A
  Relevance: N/A
  User Experience: N/A

DETAILED CRITERIA SCORES:

  Budget Saving:
    Relevance: 0/10
    Savings: 0/10
    Diversity: 0/10
    Explanation Quality: 0/10
    Feasibility: 0/10
    Overall: 0/10
    Reasoning: No recommendations were returned despite the user being $52.98 over budget, so nothing matched the cart or budget-conscious intent. With no suggestions, there are no savings, variety, explanations, or realistic substitutions (e.g., cheaper dessert or non-organic steak options). The system failed to address a clear need for budget-saving swaps.

  Personalized Cf:
    Relevance: 0/10
    Savings: 0/10
    Diversity: 0/10
    Explanation Quality: 0/10
    Feasibility: 0/10
    Overall: 0/10
    Reasoning: The system returned no recommendations despite the user being $52.98 over budget, providing no guidance. With nothing suggested, there is no relevance, savings, diversity, explanation, or feasible substitutions. This makes the system unusable for this session.

  Hybrid Ai:
    Relevance: 0/10
    Savings: 0/10
    Diversity: 0/10
    Explanation Quality: 0/10
    Feasibility: 0/10
    Overall: 0/10
    Reasoning: The system returned no recommendations, so nothing matches the user's budget-conscious needs or cart. Without options, it provides no savings, variety, or explanations, and there are no feasible swaps to reduce the $52.98 overage.

============================================================

âœ“ Results saved to: evaluation_results_budget_conscious.json

============================================================
TESTING SCENARIO: HEALTH FOCUSED
============================================================

Getting recommendations from all 3 systems...
  Budget-Saving: 0 suggestions
  Personalized CF: 0 suggestions
  Hybrid AI: 0 suggestions

============================================================
LLM-as-a-Judge Evaluation
============================================================

[1/3] Running pairwise comparisons...
  - Budget-Saving vs Personalized CF...
  - Budget-Saving vs Hybrid AI...
  - Personalized CF vs Hybrid AI...

[2/3] Running criteria-based evaluations...
  - Evaluating Budget-Saving system...
  - Evaluating Personalized CF system...
  - Evaluating Hybrid AI system...

[3/3] Generating summary...

âœ“ Evaluation complete!

============================================================
EVALUATION REPORT
============================================================

USER PROFILE:
  Type: Health-conscious organic shopper
  Budget: $80.0
  Cart Total: $110.94 ($30.939999999999998 over)
  Items: 3

EVALUATION STATUS: COMPLETE

OVERALL WINNER: Budget Saving
  Win counts: {'budget_saving': 2, 'personalized_cf': 1, 'hybrid_ai': 0}

BEST FOR SPECIFIC NEEDS:
  Savings: N/A
  Relevance: N/A
  User Experience: N/A

DETAILED CRITERIA SCORES:

  Budget Saving:
    Relevance: 0/10
    Savings: 0/10
    Diversity: 0/10
    Explanation Quality: 0/10
    Feasibility: 0/10
    Overall: 0/10
    Reasoning: No recommendations were provided, so nothing matched the user's health-conscious organic preferences or current cart. With no proposed swaps or explanations, the system delivered no savings or guidance to bring the $110.94 cart closer to the $80 budget. Overall, it failed to perform its budget-saving task.

  Personalized Cf:
    Relevance: 0/10
    Savings: 0/10
    Diversity: 0/10
    Explanation Quality: 0/10
    Feasibility: 0/10
    Overall: 0/10
    Reasoning: No recommendations were provided, so nothing matches the userâ€™s organic preferences or current cart. With no suggestions, thereâ€™s no potential savings, diversity, explanations, or feasible swaps. The system fails to address the user being over budget by ~$30.94.

  Hybrid Ai:
    Relevance: 0/10
    Savings: 0/10
    Diversity: 0/10
    Explanation Quality: 0/10
    Feasibility: 0/10
    Overall: 0/10
    Reasoning: No recommendations were provided, so there is no relevance, savings, diversity, explanation, or feasible substitutions. The system failed to address the $30.94 budget overage or the userâ€™s health-conscious organic preferences. Overall performance is nonexistent.

============================================================

âœ“ Results saved to: evaluation_results_health_focused.json

============================================================
TESTING SCENARIO: NEW USER
============================================================

Getting recommendations from all 3 systems...
  Budget-Saving: 3 suggestions
  Personalized CF: 0 suggestions
  Hybrid AI: 0 suggestions

============================================================
LLM-as-a-Judge Evaluation
============================================================

[1/3] Running pairwise comparisons...
  - Budget-Saving vs Personalized CF...
  - Budget-Saving vs Hybrid AI...
  - Personalized CF vs Hybrid AI...

[2/3] Running criteria-based evaluations...
  - Evaluating Budget-Saving system...
  - Evaluating Personalized CF system...
  - Evaluating Hybrid AI system...

[3/3] Generating summary...

âœ“ Evaluation complete!

============================================================
EVALUATION REPORT
============================================================

USER PROFILE:
  Type: New user (tests cold start handling)
  Budget: $40.0
  Cart Total: $56.99 ($16.990000000000002 over)
  Items: 1

EVALUATION STATUS: COMPLETE

OVERALL WINNER: Budget Saving
  Win counts: {'budget_saving': 2, 'personalized_cf': 0, 'hybrid_ai': 1}

BEST FOR SPECIFIC NEEDS:
  Savings: Budget Saving
  Relevance: Budget Saving
  User Experience: Budget Saving

DETAILED CRITERIA SCORES:

  Budget Saving:
    Relevance: 6/10
    Savings: 9/10
    Diversity: 5/10
    Explanation Quality: 4/10
    Feasibility: 4/10
    Overall: 6/10
    Reasoning: All options are in the same dessert category and come from related brands, but none are true cake substitutes, which may miss the userâ€™s likely intent. Savings are strong and would bring the cart under budget, but explanations are generic and donâ€™t address use-case (e.g., serving size/occasion). Substitution feasibility is moderate to low because cookies/brownies may not replace a 6.8 lb cake for events.

  Personalized Cf:
    Relevance: 0/10
    Savings: 0/10
    Diversity: 0/10
    Explanation Quality: 0/10
    Feasibility: 0/10
    Overall: 0/10
    Reasoning: No recommendations were returned, indicating a complete cold-start failure for a new user. It ignored the over-budget context and offered no substitutions or explanations, yielding no savings, variety, or actionable guidance. The system provided no value in this scenario.

  Hybrid Ai:
    Relevance: 0/10
    Savings: 0/10
    Diversity: 0/10
    Explanation Quality: 0/10
    Feasibility: 0/10
    Overall: 0/10
    Reasoning: No recommendations were provided, so nothing matches the cart or helps the user get under budget. This fails cold-start handling and offers no savings, variety, or explanations. The system missed obvious feasible swaps like smaller cakes or cheaper desserts.

============================================================

âœ“ Results saved to: evaluation_results_new_user.json

============================================================
COMBINED SUMMARY ACROSS ALL SCENARIOS
============================================================

Budget Conscious: Winner = Budget Saving (Status: complete)

Health Focused: Winner = Budget Saving (Status: complete)

New User: Winner = Budget Saving (Status: complete)

OVERALL RESULTS:
  Win counts: {'budget_saving': 3, 'personalized_cf': 0, 'hybrid_ai': 0}
  Incomplete evaluations: 0/3
  Champion: Budget Saving

âœ“ All results saved to: evaluation_results_all_scenarios.json
============================================================
